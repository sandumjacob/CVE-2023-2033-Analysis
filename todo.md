# What to try?
The patchnotes include some stuff about how changing the stack on a JS Object should change its prototype stack as well. There's a test case added to check this.
The patchnotes also talk about the property walking the prototype chain to find an error-like JS object that has the error property.

JSGlobalProxy's prototype must be a JSGlobalObject or null,
// and the prototype is hidden. JSGlobalProxy always delegates
// property accesses to its prototype if the prototype is not null.

This is probably why JSGlobalProxy comes into play.

## What's going on here?

### Input 
```
%DebugPrint(this);
print(this.stack); // Should be undefined before the Error.captureStackTrace is called.
%DebugPrint(this.__proto__);
```

### Output
Notice how the this is a JS_GLOBAL_PROXY_TYPE. The first DebugPrint shows this and in its map it says that its prototype is a JSGlobalObject.
But, the second DebugPrint shows that the prototype of this.

```
DebugPrint: 0x1eab000c3bf5: [JSGlobalProxy] in OldSpace
 - map: 0x1eab000d8381 <Map[16](HOLEY_ELEMENTS)> [FastProperties]
 - prototype: 0x1eab000d4061 <JSGlobalObject>
 - elements: 0x1eab00000219 <FixedArray[0]> [HOLEY_ELEMENTS]
 - hash: 977518
 - native context: 0x1eab000c3c2d <NativeContext[282]>
 - properties: 
 - All own properties (excluding elements): {}
0x1eab000d8381: [Map] in OldSpace
 - type: JS_GLOBAL_PROXY_TYPE
 - instance size: 16
 - inobject properties: 0
 - elements kind: HOLEY_ELEMENTS
 - unused property fields: 0
 - enum length: invalid
 - stable_map
 - may_have_interesting_symbols
 - access_check_needed
 - back pointer: 0x1eab00000251 <undefined>
 - prototype_validity cell: 0x1eab00000ac5 <Cell value= 1>
 - instance descriptors (own) #0: 0x1eab00000295 <DescriptorArray[0]>
 - prototype: 0x1eab000d4061 <JSGlobalObject>
 - constructor: 0x1eab000d40c5 <JSFunction (sfi = 0x1eab000d409d)>
 - dependent code: 0x1eab00000229 <Other heap object (WEAK_ARRAY_LIST_TYPE)>
 - construction counter: 0

undefined
DebugPrint: 0x1eab001c3009: [JS_OBJECT_TYPE]
 - map: 0x1eab000d4669 <Map[28](HOLEY_ELEMENTS)> [FastProperties]
 - prototype: 0x1eab000c4ab9 <Object map = 0x1eab000c40f5>
 - elements: 0x1eab00000219 <FixedArray[0]> [HOLEY_ELEMENTS]
 - properties: 0x1eab00000f85 <PropertyArray[0]>
 - All own properties (excluding elements): {
    0x1eab00006085: [String] in ReadOnlySpace: #constructor: 0x1eab000d45f9 <JSFunction (sfi = 0x1eab000d3fa1)> (const data field 0), location: in-object
 }
0x1eab000d4669: [Map] in OldSpace
 - type: JS_OBJECT_TYPE
 - instance size: 28
 - inobject properties: 4
 - elements kind: HOLEY_ELEMENTS
 - unused property fields: 3
 - enum length: invalid
 - stable_map
 - prototype_map
 - prototype info: 0x1eab000dada9 <PrototypeInfo>
 - prototype_validity cell: 0x1eab00000ac5 <Cell value= 1>
 - instance descriptors (own) #1: 0x1eab001c3059 <DescriptorArray[1]>
 - prototype: 0x1eab000c4ab9 <Object map = 0x1eab000c40f5>
 - constructor: 0x1eab000c45fd <JSFunction Object (sfi = 0x1eab0008b6d1)>
 - dependent code: 0x1eab00000229 <Other heap object (WEAK_ARRAY_LIST_TYPE)>
 - construction counter: 0
```


## Interesting behavior when using captureStackTrace on this.

Error.captureStackTrace(this);
this.stack; // Not undefined.

Error.captureStackTrace(this);
this.stack; // undefined.
var stack = {};

Error.captureStackTrace(this);
stack.a = "weird stack object".
print(stack); // Has stuff
print(this.stack); // Has stuff
print(stack.a) // Undefined.

### Maybe

Error.captureStackTrace(this);



